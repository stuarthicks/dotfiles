#!/bin/sh

case "$(uname)" in
  "Darwin")
    if ! command -v brew; then
      git clone 'https://github.com/Homebrew/brew' ../.brew
      export PATH="../.brew/bin:$PATH"
    fi
    brew tap 'homebrew/bundle' && brew bundle install
    brew link --force curl openssl
    ;;
  "Linux")
    if ! command -v brew; then
      git clone 'https://github.com/Linuxbrew/brew' ../.brew
      export PATH="../.brew/bin:$PATH"
    fi
    ;;
  *) ;;
esac

git clone 'https://github.com/tarjoilija/zgen'  ../.zgen
git clone 'https://github.com/tmux-plugins/tpm' ../.tmux/plugins/tpm

stow --stow --verbose \
  abcde   \
  bspwm   \
  git     \
  mpd     \
  nvim    \
  rubocop \
  scripts \
  ssh     \
  tmux    \
  zsh     \
