#!/usr/bin/env zsh

irssi_status() {
  IRSSI=$(tmux-irssi-act)
  if [ -n "$IRSSI" ]; then
    echo -e "$IRSSI#[fg=white]"
  fi
}

temp_status() {
  TEMP=$(cat /tmp/temp | cut -d "=" -f2 | tr -d ' ')
  if [ -n "$TEMP" ]; then
    echo -e "#[fg=red]$TEMP#[fg=white]"
  else
    echo -e "#[fg=red]$(osx-cpu-temp)#[fg=white]"
  fi
}

load_status() {
  LOAD=$(uptime | rev | cut -d":" -f1 | rev | sed -e 's/^[[:space:]]*//'| sed s/,//g)
  if [ -n "$LOAD" ]; then
    echo -e "#[fg=green]$LOAD#[fg=white]"
  fi
}

host() {
  local -r NAME="$(hostname | sed -e 's/\.local$//')" # Eurgh, OSX.
  echo -e "#[fg=magenta]$NAME"
}

echo -e \
"#[fg=white] \
$(temp_status) \
$(load_status) \
$(host)\
#[fg=white]"

# $(irssi_status)\
