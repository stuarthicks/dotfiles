#!/bin/bash
set -u

git clone https://github.com/asdf-vm/asdf.git ~/.asdf
cd ~/.asdf || exit
git checkout "$(git describe --abbrev=0 --tags)"

# shellcheck source=/dev/null
source ~/.asdf/asdf.sh

TOOLS=(
  clojure
  golang
  gradle
  java
  kotlin
  maven
  python
  ruby
  rust
  sbt
  scala
)

for TOOL in "${TOOLS[@]}"; do
  asdf plugin add "$TOOL"
  asdf install "$TOOL" latest
done

asdf plugin add nodejs
~/.asdf/plugins/nodejs/bin/import-release-team-keyring
~/.asdf/plugins/nodejs/bin/import-previous-release-team-keyring
asdf install nodejs latest
